<div class="full-height d-flex flex-column align-items-center justify-content-center">
    <form class="container container-login p-5 glass">
        <div class="row justify-content-center mb-2">
            <div class="col-12 text-center">
                <p class="text-white h1" animated-letters data-translate="sign up">sign up</p>
            </div>
        </div>
		<div class="row justify-content-center mb-4">
			<div class="col-12 text-left">
				<hr class="text-white">
			</div>
		</div>
        <div class="row justify-content-center mb-3">
			<div class="col-12 text-left">
				<label for="username" class="text-white" data-translate="username">username:</label>
				<input type="text" class="form-control text-center text-input" id="username" data-translate="username" maxlength="15">
				<small class="text-danger" id="username-error">&nbsp;</small>
			</div>
		</div>
        <div class="row justify-content-center mb-3">
			<div class="col-12 text-left">
				<label for="email" class="text-white" data-translate="e-mail">email:</label>
				<input type="text" class="form-control text-center text-input" id="email" maxlength="30">
				<small class="text-danger" id="email-error">&nbsp;</small>
			</div>
		</div>
		<div class="row justify-content-center mb-3">
			<div class="col-12 text-left">
				<label for="password" class="text-white" data-translate="password">password:</label>
				<input type="password" class="form-control text-center text-input" id="password" maxlength="64">
				<small class="text-danger" id="password-error">&nbsp;</small>
			</div>
		</div>

        <!-- GDPR Agreement Checkbox -->
        <div class="row justify-content-center mb-3">
            <div class="col-12 text-left">
                <input type="checkbox" id="gdprCheckbox" width="30">
                <label for="gdpr-checkbox" class="text-white">
                    I agree to the <a href="#" id="gdpr-link" class="text-light">Privacy Policy</a>
                </label>
                <small class="text-danger" id="gdpr-error">&nbsp;</small>
            </div>
        </div>

		<div class="row justify-content-center mt-4">
			<div class="col-12 text-center">
				<button class="btn btn-lg text-light btn-filled" id="sign-up-button" data-translate="sign up">sign up</button>
			</div>
		</div>
		<div class="row justify-content-center mt-4">
			<div class="col-12 text-center">
				<small class="light-text" data-translate="have account">have an account?</small> <small> <a href="/signin" class="text-light sign" data-link data-translate="login">login</a></small>
			</div>
		</div>
    </form>
</div>

<!-- GDPR Modal (Auto Popup) -->
<div class="modal fade" id="gdprModal" tabindex="-1" aria-labelledby="gdprModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="gdprModalLabel">GDPR Agreement</h5>
            </div>
            <div class="modal-body">
                <p>We use your data to improve our service. By continuing, you accept our <a href="/privacy-policy" target="_blank">Privacy Policy</a>.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="gdpr-decline">Decline</button>
                <button type="button" class="btn btn-primary" id="gdpr-accept">Accept</button>
            </div>
        </div>
    </div>
</div>
<script>
	document.addEventListener("DOMContentLoaded", function () {
    let gdprCheckbox = document.querySelector("#gdpr-checkbox");
    let gdprError = document.querySelector("#gdpr-error");

    // Auto show GDPR modal when page loads
    let gdprModal = new bootstrap.Modal(document.querySelector("#gdprModal"));
    gdprModal.show();

    // Accept GDPR -> Check the checkbox
    document.querySelector("#gdpr-accept").addEventListener("click", function () {
        gdprCheckbox.checked = true;
        gdprError.textContent = "";
        gdprModal.hide();
    });

    // Decline GDPR -> Prevent signing up
    document.querySelector("#gdpr-decline").addEventListener("click", function () {
        gdprCheckbox.checked = false;
        gdprModal.hide();
    });

    // Show error if GDPR is not checked when clicking Sign Up
    document.querySelector("#sign-up-button").addEventListener("click", function (e) {
        if (!gdprCheckbox.checked) {
            e.preventDefault();
            gdprError.textContent = "You must agree to the GDPR policy.";
        }
    });
});

	</script>
